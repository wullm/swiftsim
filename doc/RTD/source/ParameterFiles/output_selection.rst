.. Parameter File
   Loic Hausammann, 1 June 2018

.. _Output_list_label:

Output List
~~~~~~~~~~~

In the sections ``Snapshots``, ``Statistics`` and ``StructureFinding``, you can
specify the options ``output_list_on`` and ``output_list`` which receive an int
and a filename.  The ``output_list_on`` enable or not the output list and
``output_list`` is the filename containing the output times.  With the file
header, you can choose between writing redshifts, scale factors or times.

Example of file containing with times (in internal units)::

  # Time
  0.5
  1.5
  3.0
  12.5

Example of file with scale factors::

  # Scale Factor
  0.1
  0.2
  0.3

Example of file with redshift::

  # Redshift
  20
  15
  10
  5

If an output list is specified, the basic values for the first
snapshot (``time_first``, ``scale_factor_first``) and difference
(``delta_time``) are ignored.

When an output list is used SWIFT will not write a "0th" snapshot
straight after having read the ICs. Similarly, SWIFT will also *not*
write a snapshot at the end of a simulation unless a snapshot at the
final time is specified in the list.

.. _Output_selection_label:

Output Selection
~~~~~~~~~~~~~~~~

Users can generate a ``yaml`` file containing all the possible fields
available for a given configuration of SWIFT by running
``./swift --output-params output.yml`` or equivalently ``./swift -o
output.yml``. The file generated contains the list of fields that a
simulation running with this config would output in each snapshot. It
also lists the description string of each field and the unit
conversion string to go from internal comoving units to physical
CGS. Entries in the file look like:

.. code:: YAML

   SelectOutput:
     # Particle Type Gas
     Coordinates_Gas:      1  # Co-moving positions of the particles. ::: Conversion to physical CGS: a U_L  [ cm ]
     Velocities_Gas:       1  # Peculiar velocities of the stars. This is (a * dx/dt) where x is the co-moving positions of the particles. ::: Conversion to physical CGS: U_L U_t^-1  [ cm s^-1 ]
     Masses_Gas:           1  # Masses of the particles. ::: Conversion to physical CGS: U_M  [ g ]
     SmoothingLengths_Gas: 1  # Co-moving smoothing lengths (FWHM of the kernel) of the particles. ::: Conversion to physical CGS: a U_L  [ cm ]

Users can select the particle fields to output in snapshot using the
YAML parameter file.  In section ``SelectOutput``, users can demand to
remove a field by adding a parameter formatted in the following way
``field_parttype`` where ``field`` is the name of the field that is to
be removed (e.g. ``Masses``) and ``parttype`` is the type of particles
that contains this field (``Gas``, ``DM``, ``Stars`` or ``BH``).  For
a parameter, the only values accepted are ``0`` (skip this field when
writing) or ``1`` (default, do not skip this field when writing). By
default all fields are written.

This field is mostly used to remove unnecessary output by listing them
with 0's. A classic use-case for this feature is a DM-only simulation
(pure n-body) where all particles have the same mass. Outputting the
mass field in the snapshots results in extra i/o time and unnecessary
waste of disk space. The corresponding section of the ``yaml``
parameter file would look like:

.. code:: YAML
	  
  SelectOutput:
    Masses_DM:   0

Entries can simply be copied from the ``output.yml`` generated by the
``-o`` runtime flag. 
